
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run Chicken</title>
    <style>
                body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            background-color: #ffebcd;
            background-image: url('https://www.transparenttextures.com/patterns/snow.png');
            margin: 0;
            overflow-y: auto;  /* Added for scrolling if needed */
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #d32f2f;
            font-family: 'Comic Sans MS', cursive;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        }


        
        /* User status */
        #userStatus {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.2em;
            color: #a23636;
        }
               /* Instructions section */
        #instructions {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            text-align: center;
            max-width: 1000px;
            font-size: 1.2em;
            color: #333;
            overflow-y: auto;  /* Added for scrolling if needed */
            max-height: 400px; /* Set a maximum height */

        }
       
       
    </style>
</head>
<body>
    <h1>ğŸ”Run ChickenğŸ”</h1>
    <div id="instructions">
        <p>00h00. BÃ©bÃ© Romain ouvrit les yeux dans la nuit, pris dâ€™une envie pressante. En sortant de sa chambre pour se rendre aux toilettes, il aperÃ§ut une lumiÃ¨re diffuse filtrant par lâ€™entrebÃ¢illement dâ€™une porte. IntriguÃ© et un peu inquiet, il sâ€™en approcha discrÃ¨tement. Il dÃ©couvrit alors Topapa, absorbÃ© par son tÃ©lÃ©phone, le visage Ã©clairÃ© par lâ€™Ã©cran tandis quâ€™il prenait des selfies Duckface. Â« Oh le boomer ! Â» lanÃ§a BÃ©bÃ© Romain, hilare. Pris de court, Topapa leva les yeux, visiblement agacÃ©. Â« Quâ€™est-ce que tu fais lÃ , toi ? Â» grogna-t-il. Â« Je regarde les derniÃ¨res news sur Foot Mercato et la Provence askip Drogba revient Ã  lâ€™OM cette annÃ©e. Câ€™est LA bonne ! Â». </p>
 <p>Soudain, le tÃ©lÃ©phone retentit, brisant le silence de la nuit et faisant sursauter les deux camarades. BÃ©bÃ© Romain et Topapa Ã©changÃ¨rent un regard inquiet.</p>
 <p>â€” "Qui peut bien appeler Ã  une heure pareille ?" murmura BÃ©bÃ© Romain, une pointe d'apprÃ©hension dans la voix. "Vas-y, toi, rÃ©ponds," </p>
 <p>Topapa soupira, attrapa le tÃ©lÃ©phone dâ€™un geste prudent, et dÃ©crocha.</p>
 <p>â€” "AllÃ´ ?" dit-il, hÃ©sitant, son regard fixant celui de BÃ©bÃ© Romain. Pas de rÃ©ponse.</p>
 <p>â€” "AllÃ´ ?" insista-t-il, un peu plus fort cette fois.</p>
 <p>Une voix monocorde et mÃ©canique finit par rÃ©pondre :</p>
 <p>â€” "Bonsoir Monsieur, je vous appelle concernant la rÃ©novation Ã©nergÃ©tique des bÃ¢timents. Saviez-vous que vous pouviez bÃ©nÃ©ficier de... ?"</p>
 <p>Mais la phrase fut brutalement interrompue. Dâ€™un geste agacÃ©, Topapa raccrocha le tÃ©lÃ©phone avec un soupir exaspÃ©rÃ©.</p>
 <p>â€” "Alors, câ€™Ã©tait qui ?" demanda BÃ©bÃ© Romain, les yeux ronds.</p>
 <p>Topapa haussa les Ã©paules avec un sourire crispÃ© :</p>
 <p>â€” "De la pub. â€œ</p>
 <p>Leur conversation, pourtant Ã  voix basse, finit par rÃ©veiller GrinchÃ©mie. Celle-ci apparut dans lâ€™encadrement de la porte, un paquet de gÃ¢teaux Ã  la main, visiblement contrariÃ©e. Â« Vous mâ€™avez rÃ©veillÃ©e, bande de dÃ©biles ! Â» rÃ¢la-t-elle, la bouche Ã  moitiÃ© pleine. Surpris, Topapa et BÃ©bÃ© Romain se tournÃ¨rent vers elle en sursaut. Â« Oh, tu nous as fait flipper ! Â» sâ€™exclama Topapa. GrinchÃ©mie les toisa avec un sourire moqueur. Â« Quels pleutres, vous voulez un coussin de la peur ou quoi ? Â» lanÃ§a-t-elle en mordant dans un second gÃ¢teau.</p>
 <p>Mais Topapa pointa alors son doigt accusateur. Â« Ah ! Donc câ€™est toi qui as mangÃ© tous les gÃ¢teaux ! Â» GrinchÃ©mie, indignÃ©e, rÃ©pliqua aussitÃ´t : Â« Nâ€™importe quoi, câ€™est toi, et en plus tu fous les emballages dans ma poubelle. Â» Elle mÃ¢chait avec exagÃ©ration pour bien marquer son territoire. Â« De toute faÃ§on, tant que personne ne touche Ã  mes gÃ©noises, Ã§a me va. Â» nota BÃ©bÃ© Romain</p>
 <p>Ã€ peine avait-elle prononcÃ© ces mots quâ€™un petit rire discret se fit entendre. Tout le monde se figea et tourna la tÃªte vers la porte entrouverte. GrinchÃ©mie avanÃ§a prudemment, et se jeta sur lâ€™inconnu. Â« Oh putaaiiin RaseToiLaMoustache, Scuse moi pour la rÃ©action RaseToiLaMoustache ! Â» Le renne Ã©tait lÃ , un air penaud sur le visage, tenant la Switch dans ses sabots. Il semblait concentrÃ©, probablement en pleine tentative de dÃ©passer les 700 heures sur Smash Bros. GrinchÃ©mie leva les yeux au ciel. Â« Et aprÃ¨s, on dit que je geeke trop sur Stardew Valley... Â» </p>
 <p>BÃ©bÃ© Romain regarda la scÃ¨ne en riant. Â« Il ne manque plus que Dudley, et câ€™est la fiesta au complet. Â» Ã€ peine ces mots prononcÃ©s, un fracas se fit entendre dans lâ€™escalier. Dudley dÃ©valait les marches Ã  toute vitesse, propulsant Topapa hors des toilettes. Â« Chacun pour soi, bande de noobs ! Â» cria-t-il en refermant brutalement la porte. RestÃ©s en bas, les autres se regardÃ¨rent en silence. Â« Il a dÃ» croiser un coelacanthe, Â» supposa Topapa. Â« Ou une araignÃ©e, Â» ajouta BÃ©bÃ© Romain. GrinchÃ©mie, moqueuse, haussa les Ã©paules. Â« Non, sÃ»rement son ombre. Â»</p>
 <p>Soudain, un cri Ã©touffÃ© se fit entendre derriÃ¨re la porte fermÃ©e. Â« Bande de noeils, y a un fantÃ´me ! Â» hurla Dudley. Topapa Ã©clata de rire. Â« Le fantÃ´me de McGregor, peut-Ãªtre ? Â» plaisanta-t-il. Mais avant que quiconque ne puisse rÃ©pondre, un murmure glacial rÃ©sonna dans la piÃ¨ce. Une voix douce mais effrayante siffla Ã  lâ€™oreille de Topapa : Â« Non, moi, câ€™est Mmmmmhugo... Â».</p>
 <p>Explication du jeu : Petit Mhugo des familles. Votre score final est multipliÃ© par deux et soustrait Ã  100 pour avoir votre Â« High score de la game 23 Â». 
</p>
         </div>
  
    <div id="highest-score">Meilleur score: 0</div>
     <div id="userStatus"></div>

   <script defer type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyC4bjg7lVwd8FU8MREaPhBsBENv5qmiYYM",
            authDomain: "calendrier-de-l-avent-54e3a.firebaseapp.com",
            databaseURL: "https://calendrier-de-l-avent-54e3a-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "calendrier-de-l-avent-54e3a",
            storageBucket: "calendrier-de-l-avent-54e3a.appspot.com",
            messagingSenderId: "850639567855",
            appId: "1:850639567855:web:0d799a1ecca005fcff141a",
            measurementId: "G-PC1W7RYVEH"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        let userId = '';
        let highestScoreGame23 = 0

        const highestScoreDisplay = document.getElementById('highest-score');


        onAuthStateChanged(auth, async (user) => {
            if (user) {
                userId = user.uid;
                document.getElementById('userStatus').innerText = `Bienvenue : ${user.email}`;

                const userRef = doc(db, 'users', userId);
                const docSnap = await getDoc(userRef);

                if (!docSnap.exists()) {
                    await setDoc(userRef, { userId: userId, highestScoreGame23: 0, UserEmail: user.email });
                } else {
                    const userData = docSnap.data();
                    highestScoreGame23 = userData.highestScoreGame23 || 0;

                    UserEmail: user.email
                    
                    highestScoreDisplay.innerText = `Meilleur score: ${highestScoreGame23}`;
                    
                    
                }
            } else {
                window.location.href = 'login.html';
            }
        });

    </script>
</body>
</html>
