<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gen Z Vs Gen TÃ©lÃ©teubÃ© - Game 5</title>
    <style>
        /* General body styling */
        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            background-color: #ffebcd;
            background-image: url('https://www.transparenttextures.com/patterns/snow.png');
            margin: 0;
        }

        /* Title */
        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #d32f2f;
            font-family: 'Comic Sans MS', cursive;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        }

        /* User status */
        #userStatus {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.2em;
            color: #a23636;
        }

        /* Instructions */
        #instructions {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            text-align: center;
            max-width: 1000px;
            font-size: 1.2em;
            color: #333;
            overflow-y: auto;
            max-height: 400px;
        }

        /* Game area */
        #gameArea {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid #b71c1c;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
        }

        /* Button styles */
        #start-btn, #word-input {
            padding: 10px 20px;
            margin: 10px;
            font-size: 1.5em;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        #start-btn {
            background-color: #388e3c;
            color: white;
            border: none;
            cursor: pointer;
        }

        #start-btn:hover {
            background-color: #2e7d32;
        }

        /* Timer and score styling */
        #timer, #score {
            font-size: 1.8em;
            margin: 15px;
            color: #1565c0;
        }

          .decoration {
    position: relative; /* Change to relative */
    display: flex; /* Use flexbox for centering */
    justify-content: center; /* Horizontally center */
    align-items: center; /* Vertically center */
    height: 100vh; /* Full viewport height to center */
    padding: 20px 0;
}

#santa {
    height: 400px;
    width: auto;
}
    </style>
</head>
<body>
    <h1>ğŸ¤“Gen Z Vs Gen TÃ©lÃ©teubÃ©ğŸ¤“</h1>
    
    <!-- Game instructions -->
    <div id="instructions">
        <p>Toc Toc ? Encore ?</p>
<p>Topapa de NoÃ«l, qui apprÃ©ciait la tranquillitÃ© de son atelier, soupira en se rendant compte que, depuis deux jours, celui-ci ressemblait au foie de Loris un jeudi soir, grouillant dâ€™agitation. Le charismatique hÃ©ros ouvrit la porte, sâ€™attendant Ã  voir une tÃªte familiÃ¨re, mais il ne vit rien. Â« Serait-ce une blague ? Â» se demanda-t-il, perplexe.</p>
<p>En baissant les yeux, il aperÃ§ut alors un tout petit bÃ©bÃ©, un gamin qui n'avait pas fait sa sieste, qui se tenait lÃ , le regard pÃ©tillant de dÃ©fi. Â« Hey le noob ! Â» lanÃ§a le bÃ©bÃ© dâ€™un ton provocateur, bien qu'il semblait plutÃ´t Ãªtre un garÃ§on mal aimÃ©.</p>
<p>Topapa se mit Ã  sourire, intriguÃ© par la faÃ§on dont une voix aussi forte pouvait sortir dâ€™un si petit corps. Â« IntÃ©ressant, un petit DudleyÂ» pensa-t-il, amusÃ©, Â« comme sa voix ne colle pas du tout avec sa taille. Â»</p>
<p>Â« Ã‰coute, vieux, lâ€™annÃ©e derniÃ¨re je nâ€™ai eu que 56 cadeaux, câ€™Ã©tait vraiment un NoÃ«l bien guez, Â» continua le bÃ©bÃ©, croisant les bras avec un air dÃ©terminÃ©. </p>
<p>Topapa prit sa liste des cadeaux de lâ€™annÃ©e derniÃ¨re et dit : Â«  57, 58,59 et 60 Â» Tu en as eu 60 des cadeaux lâ€™annÃ©e derniÃ¨re . Le compte est bon. 
<p>Â« Alors, tâ€™as bien reÃ§u Le Nain ? Â» commenÃ§a Topapa</p>
<p>Dudley leva les yeux aux ciels comme pour indiquer que ce cadeau ne comptait pas. Topapa ajouta : Â« Je tâ€™arrÃªte, Le Nain est un banger, ce jeu est mÃªme devenu une lÃ©gende dans Elbofos.Et Bandido, Ã§a aussi tu as bien reÃ§u ? Â»</p>
<p>Dudley fronÃ§a les sourcils. Â« Bandido ? Non, jâ€™ai jamais reÃ§u Ã§a, moi. Â»</p>
<p>Topapa hÃ©sita, puis aperÃ§ut une astÃ©risque Ã  sa liste indiquant Â« Bandido retirÃ© pour manque dâ€™esprit. Â» Â« Ah ok, my baaad ! Â» dit-il en levant les mains au ciel.</p>
<p>Topapa continua. Â« Et les chaussettes design, lÃ , tu ne les comptes pas ? Â»</p>
<p>Dudley fit un hochement de tÃªte approbateur. Â« Tu imagines bien, bravo. Â»</p>
<p>Il continua sa liste : Â« Oh, et cette journÃ©e spÃ©ciale avec Moman, Locklear et Squeezie sur Mario Party Jamboreeee en mode IRL, Ã§a, câ€™est confirmÃ© ? Â»</p>
<p>Dudley Ã©carquilla les yeux. Â« Attends, câ€™est quoi cette journÃ©e IRL avec mes stars et mes modÃ¨les de vie? Â»</p>
<p>Topapa, se rendant compte de sa boulette, fit une grimace. Â« Ah... my baaad, câ€™Ã©tait ton cadeau pour cette annÃ©e. Bon, bah, câ€™est spoilÃ©. Je vais devoir lâ€™offrir Ã  un autre gamin, plus mÃ©ritant. Â»</p>
<p>Dudley lanÃ§a un regard dÃ©sespÃ©rÃ©. Â« SÃ©rieusement ? Alors cette annÃ©e, tu vas arrÃªter de faire de la D. Si tu ne veux pas que je te footstep, tu as intÃ©rÃªt Ã  atteindre la soixantaine, comme ton Ã¢ge. Compris, fossile ? Â»</p>

<p>Topapa, bien quâ€™accoutumÃ© aux Dudley avec leurs piques habituelles, sentit un lÃ©ger agacement Ã  lâ€™idÃ©e dâ€™Ãªtre traitÃ© de vieux. Il hÃ©sita Ã  le daronned mais se ravisa. Â« Ã‰coute, gamin, Â» rÃ©torqua-t-il dâ€™un ton ferme mais amusÃ©, Â« je te propose un petit dÃ©fi. On va faire des jeux de rÃ©flexe, et on verra bien qui est le vieux ici. Â»</p>
<p>Malheureusement, il se souvint avec un soupir que la WII Ã©tait hors service, et donc pas de Â« photo dâ€™ovni Â» Ã  l'horizon. Â« Mais pas de souci, jâ€™ai dâ€™autres idÃ©es en tÃªte. Â» Un sourire malicieux se dessina sur ses lÃ¨vres alors quâ€™il commenÃ§ait Ã  rÃ©flÃ©chir aux diffÃ©rentes maniÃ¨res de dÃ©fier ce petit insolent.</p>
<p>Explication du jeu : Vous devez recopier le plus de mots possibles en 1 minute. Chaque mot augmente votre score de 1 mais un mot mal orthographiÃ© le rÃ©duit de 0.5. A la fin, votre score total est mulitipliÃ© par 2. Vous avez maximum 10 essais pour amÃ©liorer votre meilleur score. 
</p>
<p>Trois mots seront affichÃ©s sÃ©parÃ©s d'une virgule, il faut donc recopier le premier mot, puis le 2e, ... Et non pas la liste bande de tÃ©lÃ©teubÃ©s </p>
<p>Possible sur Smartphone (bonus pour le correcteur orthographique) comme sur clavier (bonus pour la dextÃ©ritÃ© des doigts). 
</p>
    </div>
     <img id="santa" class="decoration" src="https://i.imgur.com/RDytUiU.jpeg" alt="Santa Claus">
    <div id="userStatus"></div>
    <div id="gameArea">
        <button id="start-btn">Commencer le jeu</button>
        <div id="high-score">Meilleur score: 0</div>
        <div id="total-games">Total de jeux jouÃ©s: 0</div>
        <div id="timer">Temps restant: 60s</div>
        <div id="score">Score actuel: 0</div>
        <input type="text" id="word-input" placeholder="Tapez le mot ici" disabled />
        <div id="word-display" style="font-size: 1.8em; color: #333; margin-top: 15px;"></div>
    </div>

    <script defer type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyC4bjg7lVwd8FU8MREaPhBsBENv5qmiYYM",
            authDomain: "calendrier-de-l-avent-54e3a.firebaseapp.com",
            databaseURL: "https://calendrier-de-l-avent-54e3a-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "calendrier-de-l-avent-54e3a",
            storageBucket: "calendrier-de-l-avent-54e3a.appspot.com",
            messagingSenderId: "850639567855",
            appId: "1:850639567855:web:0d799a1ecca005fcff141a",
            measurementId: "G-PC1W7RYVEH"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let userId = '';
        let typedWords = 0;
        let playCount = 0;
        let totalPlayCountGame5 = 0;
        let highestScore = 0;
        let currentWord = '';
        let timerInterval;
        let wordArray = []; // Array to hold the current words

        const startBtn = document.getElementById('start-btn');
        const timerDisplay = document.getElementById('timer');
        const scoreDisplay = document.getElementById('score');
        const wordDisplay = document.getElementById('word-display');
        const wordInput = document.getElementById('word-input');
        const numberOfWords = 3; // Number of words to display

        const wordList = [
    "abandon", "abaisser", "abandonner", "abandon", "abeille", "abondance", "abord", "aboyer", "abri", "absence",
    "absolu", "absolument", "absorber", "abuser", "acadÃ©mie", "accepter", "accompagnement", "accord", "accorder", "accueillir",
    "accusation", "accuser", "achÃ¨vement", "acheter", "achat", "acheteur", "achÃ¨vement", "adieu", "admirer", "adolescent",
    "adoption", "adresser", "affaire", "affectif", "afficher", "affirmer", "affrontement", "age", "agence", "agitation",
    "agricole", "agriculture", "ajouter", "ajustement", "alerte", "allemand", "alliance", "allumer", "alors", "alterner",
    "amateur", "ambiance", "ambition", "ami", "amitiÃ©", "amour", "analyser", "anecdote", "ancien", "annÃ©e",
    "annoncer", "annonce", "annoncer", "annuaire", "anonyme", "antÃ©cÃ©dent", "anthropologie", "appareil", "appartement", "apparence",
    "appeler", "appÃ©tit", "apporter", "apprÃ©cier", "approcher", "approfondir", "arbre", "arriÃ¨re", "arriver", "artiste",
    "assez", "assistance", "assurer", "assumer", "association", "astuce", "attendre", "attitude", "attitude", "attraper",
    "audace", "aujourd'hui", "augmenter", "aura", "autant", "auteur", "automatique", "autre", "avance", "avantage",
    "avent", "avenir", "avion", "avocat", "avoir", "bÃ¢ti", "bÃ¢timent", "beaucoup", "beau", "beautÃ©",
    "berceau", "besoin", "bÃªtise", "bÃªte", "bibliothÃ¨que", "bien", "biens", "bizarre", "blague", "blesser",
    "boire", "bois", "bonheur", "bontÃ©", "boulanger", "boutique", "bruit", "bulle", "bureau", "cadenas",
    "cafÃ©", "calme", "canard", "caractÃ¨re", "carrefour", "carriÃ¨re", "carte", "cas", "catÃ©gorie", "cause",
    "chaÃ®ne", "chanson", "chapitre", "chaque", "chaud", "chemin", "cheval", "chef", "chiffre", "choisir",
    "choix", "ciel", "cigarette", "cinq", "circuit", "citron", "classe", "climat", "clinique", "cloche",
    "coeur", "collÃ¨ge", "comment", "commun", "compagnie", "compte", "compter", "confiance", "confort", "connaÃ®tre",
    "conscience", "consÃ©quence", "construire", "consultation", "contact", "content", "contexte", "contrÃ´le", "conversation", "copain",
    "corps", "cour", "courant", "court", "coup", "couverture", "crÃ©dit", "creux", "croire", "croissance",
    "cuisine", "dÃ©but", "dÃ©buter", "dÃ©couverte", "dÃ©croÃ®tre", "dÃ©finir", "dÃ©part", "dÃ©velopper", "dÃ©veloppement", "dÃ©veloppement",
    "difficile", "direct", "direction", "discuter", "distraction", "divers", "document", "dollar", "donner", "donneur",
    "dormir", "douceur", "drapeau", "Ã©chelle", "Ã©clair", "Ã©cole", "Ã©conomie", "Ã©ducation", "effet", "effort",
    "effrayer", "Ã©lÃ¨ve", "Ã©nergie", "enfant", "environnement", "ensemble", "entreprise", "envers", "Ã©picerie", "Ã©poque",
    "esprit", "esthÃ©tique", "Ã©tat", "Ã©tude", "exemple", "exiger", "existant", "expÃ©rience", "exposition", "exprimer",
    "faÃ§on", "fÃªte", "fier", "figurer", "fille", "finir", "flamme", "floraison", "foi", "fond",
    "forÃªt", "fort", "franÃ§ais", "fraternitÃ©", "frÃ©quence", "frisson", "froid", "gagner", "garantir", "garde",
    "gÃ¢teau", "gÃ©nÃ©ral", "gÃ©nÃ©ration", "gÃ©rer", "geste", "groupe", "guÃ©rir", "habitude", "habitation", "hauteur",
    "heure", "heureux", "histoire", "homme", "honneur", "idÃ©e", "immÃ©diatement", "importance", "impression", "inauguration",
    "incapable", "inconnu", "information", "inspiration", "installer", "intelligence", "interroger", "interview", "intime", "invention",
    "jour", "jouer", "jouet", "juge", "juin", "juillet", "juste", "labo", "langue", "lien",
    "limite", "livre", "loi", "loisir", "lueur", "magie", "maison", "marcher", "marche", "mariage",
    "marque", "matÃ©riel", "maÃ®trise", "mÃ©moire", "mÃ©thode", "mettre", "milieu", "miser", "moi", "monde",
    "mot", "mouvement", "mur", "musique", "nature", "navire", "nÃ©gation", "nourriture", "nouveau", "nuage",
    "nuit", "obstacle", "ocÃ©an", "offrir", "opÃ©ration", "opinion", "ordre", "origine", "oublier", "parcours",
    "parler", "partager", "partenaire", "passage", "passer", "patience", "pays", "peinture", "peu", "photo",
    "physique", "plage", "plante", "plaisir", "pleurer", "pluie", "politique", "pomme", "poÃ©sie", "point",
    "poivre", "populaire", "position", "possibilitÃ©", "pouvoir", "prÃ©paration", "prÃ©sentation", "problÃ¨me", "produit", "progression",
    "promesse", "proposition", "protection", "public", "quitter", "quelque", "quelquefois", "quand", "quatre", "racine",
    "rapide", "rÃ©action", "rÃ©alitÃ©", "rÃ©aliser", "rÃ©flexion", "rÃ©fÃ©rent", "rÃ©seau", "rÃ©ussite", "rÃ©veil", "rÃ©vision",
    "rÃ©volte", "riche", "risque", "romantique", "sac", "savoir", "situation", "sourire", "spectacle", "spectateur",
    "sphÃ¨re", "spirale", "station", "structure", "succÃ¨s", "tÃ¢che", "table", "tÃ¢tonner", "talent", "tÃ©lÃ©phone",
    "tempÃ©rature", "temps", "terme", "terre", "texte", "thÃ©Ã¢tre", "thÃ¨me", "ton", "tour", "tranche",
    "transporter", "tromper", "trouver", "tune", "urgence", "utiliser", "valeur", "valise", "vanter", "vendre",
    "vent", "village", "vocation", "voici", "voiture", "volontÃ©", "votre", "voyage", "yoga", "zÃ¨bre",
    "abaisser", "abandonner", "abbÃ©", "aberration", "abÃ®me", "abscisse", "abstrait", "acajou", "accident", "accorder",
    "accroÃ®tre", "acquÃ©rir", "actif", "adaptation", "adÃ©quat", "adverse", "affairisme", "affairiste", "affection", "agence",
    "aggravation", "agrÃ©ment", "ahurissant", "aimable", "ajustement", "alarme", "alimentation", "allergie", "allumer", "amateur",
    "ambivalence", "ample", "anecdote", "annonciation", "annulation", "anodin", "anthropologie", "appartement", "approbation", "aptitude",
    "arbitrage", "arbre", "argenterie", "arrÃªter", "artichaut", "assentiment", "attribut", "augmentation", "authentique", "avancement",
    "aventure", "banque", "banlieue", "barbecue", "basse", "bilan", "blague", "blessure", "blizzard", "boÃ®te",
    "bonbon", "bond", "bourse", "brassard", "brÃ»ler", "cafÃ©", "cagoule", "camarade", "campagne", "canne",
    "capacitÃ©", "carburant", "carte", "causalitÃ©", "cavitÃ©", "cerf", "chagrin", "champion", "chanson", "chant",
    "chapeau", "chiffon", "choix", "circuit", "citoyen", "civilisation", "claret", "climat", "clinique", "collaboration",
    "communautÃ©", "comportement", "concorde", "connaissance", "conservateur", "convention", "convoquer", "coque", "coup", "cour",
    "couronne", "crÃ©ation", "critique", "croissance", "cuisine", "dÃ©bat", "dÃ©clencheur", "dÃ©frayer", "dÃ©finition", "dÃ©lÃ©gation",
    "dÃ©marche", "dÃ©mocratique", "dÃ©part", "dÃ©pÃ´t", "dÃ©presseur", "dÃ©route", "dÃ©tail", "dÃ©tente", "dÃ©veloppement", "difficultÃ©",
    "diversitÃ©", "dix", "doigt", "dossier", "doubler", "drame", "Ã©conomie", "Ã©cran", "Ã©ducation", "efficacitÃ©",
    "Ã©lectoral", "Ã©lÃ©phant", "Ã©lÃ©ment", "Ã©lite", "employÃ©", "enquÃªte", "entrepreneur", "Ã©paisseur", "espace", "esthÃ©tique",
    "Ã©tonnement", "Ã©tude", "Ã©valuation", "examen", "exÃ©cutif", "exploitation", "extension", "faux", "femme", "ferme",
    "ferraille", "fiabilitÃ©", "fidelitÃ©", "fÃªte", "fillette", "flotte", "flÃ»te", "folklore", "foule", "fourchette",
    "franchise", "galerie", "garde", "gÃ©nÃ©rositÃ©", "gÃ©nÃ©ralisation", "geste", "groupe", "habiller", "hÃ©misphÃ¨re", "honneur",
    "horloge", "humanitaire", "hygiÃ¨ne", "importance", "impulsion", "indÃ©pendance", "information", "ingÃ©nieur", "inondation", "instrument",
    "interaction", "intervention", "interview", "isoler", "jambe", "jouet", "journal", "journalisme", "juge", "justesse",
    "laÃ¯citÃ©", "lavage", "lecture", "leÃ§on", "libertÃ©", "litige", "littÃ©rature", "logement", "loi", "manoeuvre",
    "marchÃ©", "marque", "matÃ©riel", "maÃ®tre", "mÃ©canisme", "mÃ©moire", "mÃ©tier", "moment", "monde", "montagne",
    "motivation", "mouvement", "nature", "nÃ©gation", "nÃ©gation", "nÃ©gatif", "nourrir", "nouveau", "numÃ©rique", "obstacle",
    "observation", "obstination", "opportunitÃ©", "opinion", "oublier", "ouverture", "parole", "partenaire", "passage", "paysage",
    "pensÃ©e", "perception", "perception", "phÃ©nomÃ¨ne", "philosophie", "plaisir", "plan", "plaque", "poids", "poing",
    "politique", "position", "possibilitÃ©", "prÃ©cision", "prÃ©sentation", "problÃ¨me", "proposition", "protection", "quand", "rÃ©alitÃ©",
    "rÃ©flexion", "rÃ©gime", "rÃ©duction", "rÃ©ponse", "rÃ©putation", "responsabilitÃ©", "restauration", "rÃ©veil", "rÃ©seau", "romantisme",
    "satisfaction", "semaine", "situation", "sociÃ©tÃ©", "sombre", "sourire", "spÃ©cial", "spÃ©cificitÃ©", "spectacle", "stabilitÃ©",
    "succÃ¨s", "systÃ¨me", "tÃ¢che", "tableau", "talent", "technologie", "tÃ©lÃ©phone", "temps", "terme", "terrain",
    "thÃ©Ã¢tre", "tour", "trajectoire", "transformation", "tremblement", "trou", "valeur", "valise", "vantage", "vague",
    "vallÃ©e", "vanille", "vassal", "vigilance", "vision", "voisin", "voiture", "volontÃ©", "volte", "zone",
    "abord", "abstrait", "accorder", "accuser", "achÃ¨vement", "acteur", "adoption", "affectif", "ajouter", "analogie",
    "animaux", "annoncer", "appartement", "appeler", "apprentissage", "arbre", "artiste", "assister", "aventure", "avantage",
    "banque", "banlieue", "baptÃªme", "bavarder", "beau", "beaucoup", "bon", "bonheur", "boucle", "briser",
    "cabane", "calcul", "calendrier", "calmer", "campagne", "cancer", "chaÃ®ne", "chaleur", "champ", "chanson",
    "chaos", "chaud", "chiffre", "choc", "circuit", "citron", "claret", "cloche", "collectif", "colonisation",
    "collier", "commun", "compte", "concert", "conscience", "construire", "contexte", "convenance", "conversation", "croire",
    "culture", "cuisine", "cumul", "dÃ©bat", "dÃ©cider", "dÃ©claration", "dÃ©couvert", "dÃ©fense", "dÃ©fendre", "dÃ©gÃ¢t",
    "dÃ©mocratique", "dÃ©molition", "dÃ©penses", "dÃ©placement", "dÃ©putÃ©", "dÃ©sert", "dÃ©pÃ´ts", "dÃ©roulement", "dÃ©tail", "dÃ©tente",
    "dÃ©velopper", "difficultÃ©", "distraction", "Ã©cran", "Ã©ducatif", "Ã©ligibilitÃ©", "Ã©motion", "environnement", "envers", "espace",
    "Ã©tonnement", "examen", "exÃ©cuter", "expÃ©rience", "exploitation", "exposition", "exprimer", "femme", "fin", "flamme",
    "flore", "frappÃ©", "frÃ©quence", "frisson", "gagner", "garde", "gÃ¢teau", "gÃ©nÃ©ration", "grandeur", "grÃ¨ve",
    "grignoter", "groupe", "habitat", "histoire", "homme", "honneur", "humilitÃ©", "impact", "implication", "importance",
    "information", "inscription", "interruption", "interview", "isoler", "joueur", "juge", "justice", "libre", "loi",
    "magie", "maÃ®tre", "mariage", "mÃ©canique", "mÃ©lodie", "merveille", "monde", "mouvement", "nature", "naviguer",
    "observation", "offre", "opinion", "ordinaire", "ouverture", "parler", "passage", "patin", "pensÃ©e", "perception",
    "perte", "philosophie", "plage", "plante", "poids", "politique", "prÃ©cision", "prÃ©sentation", "problÃ¨me", "proposition",
    "qualitÃ©", "quand", "quittance", "rÃ©aliser", "rÃ©alitÃ©", "rÃ©flexion", "rÃ©putation", "respect", "restauration", "satisfaction",
    "scÃ¨ne", "semaine", "situation", "sociÃ©tÃ©", "soupÃ§on", "spÃ©cial", "spectateur", "spectacle", "structure", "succÃ¨s",
    "surprise", "systÃ¨me", "tÃ¢che", "technique", "tempÃ©rature", "temps", "terme", "terrain", "thÃ©Ã¢tre", "tradition",
    "travail", "trou", "type", "unique", "valeur", "vantage", "vendre", "vent", "vÃ©rification", "vision",
    "voix", "volontÃ©", "voyage", "zÃ©ro", "abandon", "abominable", "abonnir", "acclamation", "accompagner", "adversaire", "aider", "aimant", "aimer",
    "alignement", "alimentation", "alliÃ©", "amplitude", "ancrage", "anticipation", "apprentissage", "approfondir", "approvisionner", "arbitre",
    "arriÃ¨re", "articuler", "attacher", "attraction", "audace", "augmentation", "bÃ¢tir", "bÃ¢tisse", "bÃ©nÃ©fice", "bonbon",
    "bourse", "boussole", "bruit", "cacher", "calque", "canevas", "capable", "capacitÃ©", "caractÃ©riser", "casse",
    "causer", "centre", "chiffon", "clartÃ©", "clin", "clique", "collecter", "compÃ©tence", "concurrence", "connaissances",
    "conseil", "copain", "correspondre", "coÃ»ter", "coupable", "crÃ©er", "croissance", "cuisine", "cumul", "dÃ©cider",
    "dÃ©clencheur", "dÃ©libÃ©ration", "dÃ©terminÃ©", "dÃ©livrer", "demander", "dÃ©mÃ©nager", "dÃ©placer", "dÃ©pÃ´t", "dÃ©river", "dÃ©tendre",
    "dÃ©velopper", "difficultÃ©", "diplomate", "distributeur", "dormir", "doubler", "Ã©claircir", "Ã©clat", "Ã©cran", "Ã©nergie",
    "environnement", "Ã©tat", "examen", "exÃ©cution", "exposer", "fÃªte", "feuille", "fluctuer", "frapper", "gagner",
    "garde", "garer", "gÃ©nÃ©ration", "grandir", "gravitational", "guider", "harmonie", "histoire", "hommes", "idÃ©al",
    "imagination", "impact", "impression", "individu", "informer", "inspirer", "interruption", "intervenir", "jardin", "jeu",
    "joli", "joli", "jouet", "lÃ©gislation", "libertÃ©", "loi", "maturitÃ©", "mÃ©canisme", "mode", "monde",
    "motivation", "nature", "naviguer", "nuance", "objectif", "occasion", "opportunitÃ©", "ordinaire", "paradigme", "partenaire",
    "passeport", "perception", "perspective", "philosopher", "plaisir", "politique", "prÃ©occupation", "prÃ©parer", "prÃ©ventif", "progrÃ¨s",
    "proximitÃ©", "quitter", "raretÃ©", "rÃ©aliser", "rÃ©chauffement", "rÃ©flexion", "rÃ©forme", "rester", "rÃ©ussir", "savoir",
    "situation", "sociÃ©tÃ©", "sonner", "spectre", "spirituel", "stabilitÃ©", "stratÃ©gie", "succÃ¨s", "technique", "tÃ©moigner",
    "terrains", "temps", "thÃ©orie", "travailler", "trouble", "unitÃ©", "unique", "valeur", "valoir", "vÃ©rifier",
    "voyage", "yoga"
];

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                userId = user.uid;
                document.getElementById('userStatus').innerText = `Bienvenue : ${user.email}`;

                const userRef = doc(db, 'users', userId);
                const docSnap = await getDoc(userRef);

                if (!docSnap.exists()) {
                    await setDoc(userRef, { userId: userId, totalPlayCountGame5: 0, highestScoreGame5: 0 });
                } else {
                    const userData = docSnap.data();
                    totalPlayCountGame5 = userData.totalPlayCountGame5 || 0;
                    highestScore = userData.highestScoreGame5 || 0;
                    playCount = totalPlayCountGame5 + 1;

                    document.getElementById('high-score').innerText = `Meilleur score: ${highestScore}`;
                    document.getElementById('total-games').innerText = `Total de jeux jouÃ©s: ${totalPlayCountGame5}`;
                }
            } else {
                window.location.href = 'login.html';
            }
        });

        startBtn.addEventListener('click', async () => {
            typedWords = 0;
            scoreDisplay.innerText = `Score actuel: ${typedWords}`;
            playCount = totalPlayCountGame5 + 1;
            wordInput.disabled = false;
            wordInput.focus();

            startGame();
        });

        function startGame() {
            startBtn.disabled = true;
            let timeLeft = 60;
            timerDisplay.innerText = `Temps restant: ${timeLeft}s`;
            initializeWordArray();
            displayWords();
            timerInterval = setInterval(() => {
                timeLeft -= 1;
                timerDisplay.innerText = `Temps restant: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endGame();
                }
            }, 1000);

            totalPlayCountGame5 += 1;
            updateDoc(doc(db, 'users', userId), { totalPlayCountGame5 });
        }

        wordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const typedWord = wordInput.value.trim().toLowerCase();
                
                if (typedWord === currentWord) {
                    typedWords += 1; // Increment typed words count
                    scoreDisplay.innerText = `Score actuel: ${typedWords}`;
                    wordInput.value = ''; // Clear input field
                    wordArray.shift(); // Remove the first word (current word)
                    addRandomWord(); // Add a new random word to the end
                    displayWords(); // Update displayed words
                    currentWord = wordArray[0]; // Update currentWord to the new first word
                    
                    
                } else {
                    // Skip to the next word without scoring
                    typedWords -= 0.5; // Increment typed words count
                    scoreDisplay.innerText = `Score actuel: ${typedWords}`;
                    wordInput.value = ''; // Clear input field
                    wordArray.shift(); // Remove the first word (current word)
                    addRandomWord(); // Add a new random word to the end
                    displayWords(); // Update displayed words
                    currentWord = wordArray[0]; // Update currentWord to the new first word
                }
            }
        });

        function addRandomWord() {
            let randomWordIndex;
            do {
                randomWordIndex = Math.floor(Math.random() * wordList.length);
            } while (wordArray.includes(wordList[randomWordIndex])); // Ensure no duplicates
            wordArray.push(wordList[randomWordIndex]);
        }
        
        function displayWords() {
            wordDisplay.innerText = wordArray.join(', ');
        }

            
        function initializeWordArray() {
            wordArray = [];
            for (let i = 0; i < numberOfWords; i++) {
                addRandomWord();
            }
            currentWord = wordArray[0];
            displayWords();
        }

        async function endGame() {
            wordInput.disabled = true;
            startBtn.disabled = false;
            let finalScore = typedWords * 2;

            saveScore(finalScore);
            
            document.getElementById('total-games').innerText = `Total de jeux jouÃ©s: ${totalPlayCountGame5}`;
            document.getElementById('high-score').innerText = `Meilleur score: ${highestScore}`; // Update high score if necessary
        }

        async function saveScore(score) {
            try {
                const gameData = { score, playCount, timestamp: new Date() };
                await addDoc(collection(db, 'users', userId, 'Game5'), gameData);

                const userRef = doc(db, 'users', userId);
                if (totalPlayCountGame5 <= 10 && score > highestScore) {
                    highestScore = score;
                    await updateDoc(userRef, { highestScoreGame5: highestScore });
                }
            } catch (error) {
                console.error("Erreur en sauvegardant le score:", error);
            }
        }
    </script>
</body>
</html>
